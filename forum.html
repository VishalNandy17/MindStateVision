<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSV - Community Forums</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-100 to-purple-100 min-h-screen">
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <h1 class="text-2xl font-bold text-indigo-800">MSV Community Forums</h1>
                <nav>
                    <a href="profile.html" class="text-indigo-600 hover:text-indigo-800 ml-4 transition duration-300">Back to Dashboard</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto mt-12 px-6">
        <h2 class="text-3xl font-bold text-gray-800 mb-8">Welcome to our Community Forums</h2>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Forum Categories -->
            <div class="col-span-1">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Categories</h3>
                    <ul class="space-y-2" id="categoryList">
                        <li><a href="#" class="text-indigo-600 hover:text-indigo-800 transition duration-300 font-bold" data-category="All">All Posts</a></li>
                        <li><a href="#" class="text-indigo-600 hover:text-indigo-800 transition duration-300" data-category="General Discussion">General Discussion</a></li>
                        <li><a href="#" class="text-indigo-600 hover:text-indigo-800 transition duration-300" data-category="Anxiety Support">Anxiety Support</a></li>
                        <li><a href="#" class="text-indigo-600 hover:text-indigo-800 transition duration-300" data-category="Depression Support">Depression Support</a></li>
                        <li><a href="#" class="text-indigo-600 hover:text-indigo-800 transition duration-300" data-category="Stress Management">Stress Management</a></li>
                        <li><a href="#" class="text-indigo-600 hover:text-indigo-800 transition duration-300" data-category="Mindfulness & Meditation">Mindfulness & Meditation</a></li>
                    </ul>
                </div>
            </div>

            <!-- Forum Posts -->
            <div class="col-span-2">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Recent Posts</h3>
                    <div class="space-y-4" id="forumPosts">
                        <!-- Posts will be dynamically added here -->
                    </div>
                </div>

                <!-- New Post Form -->
                <div class="bg-white p-6 rounded-lg shadow-lg mt-8">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Create a New Post</h3>
                    <form id="newPostForm">
                        <div class="mb-4">
                            <label for="postTitle" class="block text-gray-700 font-bold mb-2">Title</label>
                            <input type="text" id="postTitle" name="postTitle" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" required>
                        </div>
                        <div class="mb-4">
                            <label for="postContent" class="block text-gray-700 font-bold mb-2">Content</label>
                            <textarea id="postContent" name="postContent" rows="4" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" required></textarea>
                        </div>
                        <div class="mb-4">
                            <label for="postCategory" class="block text-gray-700 font-bold mb-2">Category</label>
                            <select id="postCategory" name="postCategory" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" required>
                                <option value="">Select a category</option>
                                <option value="General Discussion">General Discussion</option>
                                <option value="Anxiety Support">Anxiety Support</option>
                                <option value="Depression Support">Depression Support</option>
                                <option value="Stress Management">Stress Management</option>
                                <option value="Mindfulness & Meditation">Mindfulness & Meditation</option>
                            </select>
                        </div>
                        <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300">Submit Post</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white mt-16 py-8">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-600">&copy; 2024 MSV. All rights reserved.</p>
            <div class="mt-4">
                <a href="#" class="text-indigo-600 hover:text-indigo-800 mx-3 transition duration-300">Privacy Policy</a>
                <a href="#" class="text-indigo-600 hover:text-indigo-800 mx-3 transition duration-300">Terms of Service</a>
                <a href="#" class="text-indigo-600 hover:text-indigo-800 mx-3 transition duration-300">Contact Us</a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const forumPosts = [
                {
                    title: "Coping with work-related stress",
                    author: "JohnDoe",
                    timestamp: "2 hours ago",
                    content: "I've been struggling with stress at work lately. Does anyone have any tips for managing this? I've tried taking short breaks and deep breathing, but I still feel overwhelmed most of the time.",
                    category: "Stress Management",
                    replies: 15
                },
                {
                    title: "Meditation techniques for beginners",
                    author: "MindfulMary",
                    timestamp: "1 day ago",
                    content: "I'm new to meditation and looking for some beginner-friendly techniques. Any suggestions? I've heard about mindfulness meditation but I'm not sure where to start.",
                    category: "Mindfulness & Meditation",
                    replies: 8
                },
                {
                    title: "Overcoming social anxiety",
                    author: "AnxiousAlex",
                    timestamp: "3 days ago",
                    content: "Social situations have been really difficult for me lately. I get extremely nervous and often avoid social gatherings. Has anyone found effective ways to manage social anxiety?",
                    category: "Anxiety Support",
                    replies: 12
                },
                {
                    title: "Dealing with seasonal depression",
                    author: "WinterBlues",
                    timestamp: "1 week ago",
                    content: "As winter approaches, I'm starting to feel the effects of seasonal depression. Does anyone have experience with light therapy or other treatments for SAD (Seasonal Affective Disorder)?",
                    category: "Depression Support",
                    replies: 7
                },
                {
                    title: "Book recommendations for personal growth",
                    author: "BookwormBeth",
                    timestamp: "2 weeks ago",
                    content: "I'm looking for some good self-help or personal development books. Any recommendations? I'm particularly interested in books about building resilience and improving self-esteem.",
                    category: "General Discussion",
                    replies: 20
                }
            ];

            const forumPostsContainer = document.getElementById('forumPosts');
            const categoryList = document.getElementById('categoryList');

            function createPostElement(post) {
                const postElement = document.createElement('div');
                postElement.className = 'border-b pb-4';
                postElement.innerHTML = `
                    <h4 class="text-lg font-semibold text-indigo-600">${post.title}</h4>
                    <p class="text-gray-600 text-sm">Posted by: ${post.author} | ${post.timestamp} | Category: ${post.category}</p>
                    <p class="text-gray-800 mt-2">${post.content.substring(0, 100)}...</p>
                    <button class="text-indigo-600 hover:text-indigo-800 text-sm mt-2 inline-block read-more" data-post-id="${forumPosts.indexOf(post)}">Read more (${post.replies} replies)</button>
                `;
                return postElement;
            }

            function displayPosts(category = 'All') {
                forumPostsContainer.innerHTML = '';
                const filteredPosts = category === 'All' 
                    ? forumPosts 
                    : forumPosts.filter(post => post.category === category);
                
                filteredPosts.forEach(post => {
                    forumPostsContainer.appendChild(createPostElement(post));
                });
            }

            // Initial display of all posts
            displayPosts();

            // Category filtering
            categoryList.addEventListener('click', function(e) {
                e.preventDefault();
                if (e.target.tagName === 'A') {
                    const category = e.target.getAttribute('data-category');
                    displayPosts(category);

                    // Update active category styling
                    categoryList.querySelectorAll('a').forEach(a => a.classList.remove('font-bold'));
                    e.target.classList.add('font-bold');
                }
            });

            // Read more functionality
            forumPostsContainer.addEventListener('click', function(e) {
                if (e.target.classList.contains('read-more')) {
                    const postId = e.target.getAttribute('data-post-id');
                    const post = forumPosts[postId];
                    alert(`Full post content:\n\nTitle: ${post.title}\nAuthor: ${post.author}\nCategory: ${post.category}\nContent: ${post.content}\n\nReplies: ${post.replies}`);
                }
            });

            // New post form submission
            const newPostForm = document.getElementById('newPostForm');
            newPostForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const title = document.getElementById('postTitle').value;
                const content = document.getElementById('postContent').value;
                const category = document.getElementById('postCategory').value;
                
                const newPost = {
                    title: title,
                    author: "You",
                    timestamp: "Just now",
                    content: content,
                    category: category,
                    replies: 0
                };
                
                forumPosts.unshift(newPost);
                displayPosts(document.querySelector('#categoryList a.font-bold').getAttribute('data-category'));
                
                newPostForm.reset();
            });
        });
    </script>
</body>
</html>